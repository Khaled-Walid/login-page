{"version":3,"sources":["components/Login/Login.module.css","components/UI/input/Input.module.css","components/UI/Card/Card.module.css","components/UI/Button/Button.module.css","components/Home/Home.module.css","components/MainHeader/Navigation.module.css","components/MainHeader/MainHeader.module.css","components/UI/input/Input.js","components/UI/Card/Card.js","components/UI/Button/Button.js","context/auth-context.js","components/Login/Login.js","components/Home/Home.js","components/MainHeader/Navigation.js","components/MainHeader/MainHeader.js","App.js","index.js"],"names":["module","exports","Input","React","forwardRef","props","ref","inputRef","useRef","activate","current","focus","useImperativeHandle","className","classes","control","IsValid","invalid","htmlFor","id","label","type","value","onChange","onBlur","Card","card","children","Button","button","onClick","disabled","AuthContext","createContext","isLoggedIn","onLogout","onLogin","email","password","ContextProvider","useState","setIsLoggedIn","useEffect","localStorage","getItem","Provider","removeItem","setItem","emailReducer","state","action","val","isValid","includes","passwordReducer","trim","length","Login","useReducer","emailState","dispatchEmail","passwordState","dispatchPassword","formIsValid","setFormIsValid","emailIsValid","passwordIsValid","timer","setTimeout","clearTimeout","ctx","useContext","emailInputRef","passwordInputRef","login","onSubmit","event","preventDefault","target","onBlue","actions","btn","Home","home","Navigation","nav","href","MainHeader","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a137138e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3_w-j\",\"actions\":\"Login_actions__2B7Ra\",\"control\":\"Login_control__2k5ga\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"Input_control__q38FM\",\"invalid\":\"Input_invalid__3onK5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2MSTV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2woLi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__1wdS7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__svoDs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-header\":\"MainHeader_main-header__38YnF\"};","import React, { useRef, useImperativeHandle } from \"react\";\nimport classes from \"./Input.module.css\";\n\nconst Input = React.forwardRef((props, ref) => {\n  const inputRef = useRef();\n\n  const activate = () => {\n    inputRef.current.focus();\n  };\n\n  useImperativeHandle(ref, () => {\n    return {\n      focus: activate\n    };\n  });\n\n  return (\n    <div\n      className={`${classes.control} ${\n        props.IsValid === false ? classes.invalid : \"\"\n      }`}\n    >\n      <label htmlFor={props.id}>{props.label}</label>\n      <input\n        ref={inputRef}\n        type={props.id}\n        id={props.id}\n        value={props.value}\n        onChange={props.onChange}\n        onBlur={props.onBlur}\n      />\n    </div>\n  );\n});\n\nexport default Input;\n","import React from 'react';\n\nimport classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <div className={`${classes.card} ${props.className}`}>{props.children}</div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n  return (\n    <button\n      type={props.type || 'button'}\n      className={`${classes.button} ${props.className}`}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst AuthContext = React.createContext({\r\n  isLoggedIn: false,\r\n  onLogout: () => {},\r\n  onLogin: (email, password) => {},\r\n});\r\n\r\nexport function ContextProvider(props) {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem(\"isLoggedIn\");\r\n    if (+storedUser) {\r\n      setIsLoggedIn(true);\r\n    }\r\n  }, []);\r\n\r\n  const loginHandler = (email, password) => {\r\n    localStorage.setItem(\"isLoggedIn\", \"1\");\r\n    setIsLoggedIn(true);\r\n  };\r\n\r\n  const logoutHandler = () => {\r\n    localStorage.removeItem(\"isLoggedIn\");\r\n    setIsLoggedIn(false);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isLoggedIn: isLoggedIn,\r\n        onLogout: logoutHandler,\r\n        onLogin: loginHandler,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default AuthContext;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\nimport Input from \"../UI/input/Input\";\r\nimport Card from \"../UI/Card/Card\";\r\nimport classes from \"./Login.module.css\";\r\nimport Button from \"../UI/Button/Button\";\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\nfunction emailReducer(state, action) {\r\n  if (action.type === \"USER_INPUT\") {\r\n    return { value: action.val, isValid: action.val.includes(\"@\") };\r\n  }\r\n  if (action.type === \"INPUT_BLUR\") {\r\n    return { value: state.value, isValid: state.value.includes(\"@\") };\r\n  }\r\n\r\n  return { value: \"\", isValid: false };\r\n}\r\nfunction passwordReducer(state, action) {\r\n  if (action.type === \"USER_INPUT\") {\r\n    return { value: action.val, isValid: action.val.trim().length > 6 };\r\n  }\r\n  if (action.type === \"INPUT_BLUR\") {\r\n    return { value: state.value, isValid: state.value.trim().length > 6 };\r\n  }\r\n\r\n  return { value: \"\", isValid: false };\r\n}\r\n\r\nfunction Login(props) {\r\n  const [emailState, dispatchEmail] = useReducer(emailReducer, {\r\n    value: \"\",\r\n    isValid: null,\r\n  });\r\n  const [passwordState, dispatchPassword] = useReducer(passwordReducer, {\r\n    value: \"\",\r\n    isValid: null,\r\n  });\r\n\r\n  // const [emailState, setemailState] = useState(\"\");\r\n  // const [emailIsValid, setEmailIsValid] = useState();\r\n  // const [passwordState.value, setpasswordState.value] = useState(\"\");\r\n  // const [passwordIsValid, setPasswordIsValid] = useState();\r\n  const [formIsValid, setFormIsValid] = useState(false);\r\n  const { isValid: emailIsValid } = emailState;\r\n  const { isValid: passwordIsValid } = passwordState;\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setFormIsValid(emailIsValid && passwordIsValid);\r\n    }, 300);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [emailIsValid, passwordIsValid]);\r\n\r\n  const emailChangeHandler = (event) => {\r\n    dispatchEmail({ type: \"USER_INPUT\", val: event.target.value });\r\n\r\n    // setFormIsValid(emailState.isValid && passwordState.isValid);\r\n  };\r\n\r\n  const passwordChangeHandler = (event) => {\r\n    dispatchPassword({ type: \"USER_INPUT\", val: event.target.value });\r\n    // setFormIsValid(emailState.isValid && passwordState.isValid);\r\n  };\r\n\r\n  const validateEmailHandler = () => {\r\n    dispatchEmail({ type: \"INPUT_BLUR\" });\r\n  };\r\n\r\n  const validatePasswordHandler = () => {\r\n    dispatchPassword({ type: \"INPUT_BLUR\" });\r\n  };\r\n\r\n  const ctx = useContext(AuthContext);\r\n\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    if (formIsValid) {\r\n      ctx.onLogin(emailState.value, passwordState.value);\r\n    } else if (!emailIsValid) {\r\n      emailInputRef.current.focus();\r\n    } else {\r\n      passwordInputRef.current.focus();\r\n    }\r\n  };\r\n  return (\r\n    <Card className={classes.login}>\r\n      <form onSubmit={submitHandler}>\r\n        <Input\r\n          ref={emailInputRef}\r\n          isValid={emailIsValid}\r\n          label={\"E-mail\"}\r\n          id={\"email\"}\r\n          value={emailState.value}\r\n          onChange={emailChangeHandler}\r\n          onBlue={validateEmailHandler}\r\n        ></Input>\r\n        <Input\r\n          ref={passwordInputRef}\r\n          isValid={passwordIsValid}\r\n          label={\"Password\"}\r\n          id={\"password\"}\r\n          value={passwordState.value}\r\n          onChange={passwordChangeHandler}\r\n          onBlue={validatePasswordHandler}\r\n        ></Input>\r\n        <div className={classes.actions}>\r\n          <Button type=\"submit\" className={classes.btn}>\r\n            Login\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\n\nimport Card from '../UI/Card/Card';\nimport classes from './Home.module.css';\n\nconst Home = (props) => {\n  return (\n    <Card className={classes.home}>\n      <h1>Welcome back!</h1>\n    </Card>\n  );\n};\n\nexport default Home;\n","import React, { useContext } from \"react\";\nimport AuthContext from \"../../context/auth-context\";\n\nimport classes from \"./Navigation.module.css\";\n\nconst Navigation = () => {\n  const ctx = useContext(AuthContext);\n  return (\n    <nav className={classes.nav}>\n      <ul>\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Users</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Admin</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <button onClick={ctx.onLogout}>Logout</button>\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import React from 'react';\n\nimport Navigation from './Navigation';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = (props) => {\n  return (\n    <header className={classes['main-header']}>\n      <h1>A Typical Page</h1>\n      <Navigation />\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import { useContext } from \"react\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Home from \"./components/Home/Home\";\r\nimport MainHeader from \"./components/MainHeader/MainHeader\";\r\nimport AuthContext from \"./context/auth-context\";\r\n\r\nfunction App() {\r\n  const ctx = useContext(AuthContext);\r\n  return (\r\n    <>\r\n      <MainHeader />\r\n      <main>\r\n        {!ctx.isLoggedIn && <Login />}\r\n        {ctx.isLoggedIn && <Home />}\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ContextProvider } from \"./context/auth-context\";\n\nReactDOM.render(\n  <ContextProvider>\n    <App />\n  </ContextProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}